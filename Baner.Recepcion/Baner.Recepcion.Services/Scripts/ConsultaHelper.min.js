var app=angular.module("MyApp",["angular-loading-bar","ngAnimate","ngRoute","blockUI"]);app.config(["$locationProvider","blockUIConfig",function(n,t){t.message=". . Procesando . .";n.html5Mode(!0)}]);app.controller("PostsCtrl",function(n,t,i,r){function u(i){var u={},f;u.LeadId=n.id;u.IdBanner=i.IdBanner;f=JSON.stringify(u);t.post("/api/ValidarPreOportunidad",f).success(function(){r.alert("Se envio satisfactoriamente"+i.IdBanner);r.close()}).error(function(t,i){n.customers=null;n.ErrorMesage=i===null||i===undefined?"Servicio no disponible":i===-1?"Servicio no disponible":t.Message})}function f(){t.get("/api/ConsultaCoincidencia?LeadId="+n.id).success(function(i){n.Data=i;t.post("/api/ConsultaCoincidencia",n.Data).success(function(t,i){n.customers=i===200?t:null}).error(function(t,i){n.customers=null;n.ErrorMesage=i===null||i===undefined?"Servicio no disponible":i===-1?"Servicio no disponible":i===406?t.Message:"Error :"+i+", "+t.Message})}).error(function(t,i){n.customers=null;n.ErrorMesage=i===null||i===undefined?".Servicio no disponible":i===-1?".Servicio no disponible":".Error :"+i+", "+t.Message})}if(n.id="",n.isDisabled=!1,!i.search().hasOwnProperty("id")){n.ErrorMesage="No se proporciono el registro a buscar";return}if(n.id=i.search().id,n.id.length===0){n.ErrorMesage="No se proporciono el registro a buscar";return}f();n.choseItem=function(t){u(t);n.isDisabled=!0};n.NuevoRegistro=function(){n.isDisabled=!0;var t={};t.IdBanner="";u(t)};n.Cierra=function(){r.close()};n.ValidateToShow=function(n){return n.IdCRM===null||n.IdCRM===undefined||n.IdCRM.length===0?!0:!1};n.ShowAlert=function(n){return n.IdCRM===null||n.IdCRM===undefined||n.IdCRM.length===0?!1:!0}});